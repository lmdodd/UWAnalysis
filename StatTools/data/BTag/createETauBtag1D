#!/bin/sh
#!/bin/sh
preselection='pt_1>24&&pt_2>20&&vertices>0&&dilepton_veto==0&&iso_1<0.1&&byTightIsolationMVArun2v1DBoldDMwLT_2>0.5&&tightElectrons<=1&&tightMuons==0&&againstElectronTightMVA6_2>0&&againstMuonLoose3_2>0&&tauDecayMode!=5&&tauDecayMode!=6'
extraselection='mt_1>0'
bselection='mt_1>=0'
antibselection='mt_1>=0'
wselection='mt_1>80'
signalselection='mt_1<40'
qcdselection=$preselection
trigselection='pt_1>0' #only for MC
trigselectiondata=$trigselection
relaxedSelection='pt_1>24&&pt_2>20&&vertices>0'
luminosity=2300. #pb
#luminosity=2246. #pb
direc='/nfs_scratch/laura/htt_weighted13/'
datadirec='/nfs_scratch/laura/htt_weighted13/'
zttScale=1.
qcdfactor=1.06
topSF=1.
bins=30
binning='binningHighStat=0.,10.,20.,30.,40.,50.,60.,70.,80.,90.,100.,110.,120.,130.,140.,200.,160.,170.,180.,190.,200.,225.,250.,275.,300.,325.,350. binningLowStat=0.,20.,40.,60.,80.,100.,120.,140.,160.,180.,200.,250.,300.,350.' 
mkdir datacards

#m_vis
echo '======== OUT OF BOX ========'
#MakeDataCardBtag1d channel='eleTau' shifts='Jes','HF','LF','HFStats1','HFStats2','LFStats1','LFStats2','CFErr1','CFErr2' dataFile=$datadirec'eleDATA.root' qcdFile=$direc'eleDATA.root' zttFile=$direc'ZJets.root' zllFile=$direc'ZJets.root' wFile=$direc'WJetsMLM.root' vvFile=$direc'DiBoson.root' topFile=$direc'TT.root' inclselection=$inclselection preselection=$preselection  wselection=$wselection relaxedSelection=$relaxedSelection trigselection=$trigselection trigselection50ns=$trigselectiondata  signalselection=$signalselection bselection=$bselection antibselection=$antibselection  qcdselection=$qcdselection luminosityErr=0.045 qcdfactor=$qcdfactor qcdfactorErr=0.02 vvErr=0.3   zttScale=$zttScale zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075  topSF=$topSF 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,1 weight='__WEIGHT__*GENWEIGHT*puweight*trigweight_1*idweight_1'  luminosity=$luminosity  variable='m_vis' bins=35 min=0 max=350 outputFile='datacards/htt_et.inputs-mssm-13TeV-btag1d-all.root' 
MakeDataCardBtagSF channel='eleTau' shifts='Jes','HF','LF','HFStats1','HFStats2','LFStats1','LFStats2','CFErr1','CFErr2' dataFile=$datadirec'eleDATA.root' qcdFile=$direc'eleDATA.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJetsMLM.root' vvFile=$direc'DiBoson.root' topFile=$direc'TT.root' inclselection=$inclselection preselection=$preselection  wselection=$wselection relaxedSelection=$relaxedSelection trigselection=$trigselection trigselection50ns=$trigselectiondata  signalselection=$signalselection bselection=$bselection antibselection=$antibselection  qcdselection=$qcdselection luminosityErr=0.045 qcdfactor=$qcdfactor qcdfactorErr=0.02 vvErr=0.3   zttScale=$zttScale zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075  topSF=$topSF 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,1,1 weight='__WEIGHT__*GENWEIGHT*puweight*trigweight_1*idweight_1'  luminosity=$luminosity  variable='m_vis' bins=35 min=0 max=350 outputFile='datacards/htt_et.inputs-mssm-13TeV-btagSF.root' 
#MakeDataCardBtagSF channel='eleTau' shifts='btag' blinding='m_vis<200'  dataFile=$datadirec'eleDATA.root' qcdFile=$direc'eleDATA.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJetsMLM.root' vvFile=$direc'DiBoson.root' topFile=$direc'TT.root' inclselection=$inclselection preselection=$preselection  wselection=$wselection relaxedSelection=$relaxedSelection trigselection=$trigselection trigselection50ns=$trigselectiondata  signalselection=$signalselection bselection=$bselection antibselection=$antibselection  qcdselection=$qcdselection luminosityErr=0.045 qcdfactor=$qcdfactor qcdfactorErr=0.02 vvErr=0.3   zttScale=$zttScale zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075  topSF=$topSF 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,1,1 weight='__WEIGHT__*GENWEIGHT*puweight*trigweight_1*idweight_1'  luminosity=$luminosity  variable='m_vis' bins=35 min=0 max=350 outputFile='datacards/htt_et.inputs-mssm-13TeV-btagSF.root' 


exit;
